<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>è‡ªå·±ç´¹ä»‹ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼ˆæ—¥è‹±ãƒ»è‡ªå‹•ç¿»è¨³ï¼‰</title>
  <meta name="viewport" content="width=400">
  <style>
    body { font-family: 'Segoe UI', 'ãƒ¡ã‚¤ãƒªã‚ª', sans-serif; background: #fafaff; padding: 2em;}
    .container { max-width: 520px; margin: auto; background: #fff; border-radius: 20px; box-shadow: 0 2px 12px #0001; padding: 2em;}
    label { display:block; margin-top: 1em; font-weight:bold;}
    input, select { width:100%; padding: .5em; margin-top: .3em; border-radius: 6px; border:1px solid #ccc;}
    button { margin-top:1.5em; padding:.7em 2em; background: #1e293b; color:#fff; border-radius: 10px; border: none; font-size:1.1em; cursor:pointer;}
    .output { margin-top: 2em; padding: 1em; background: #e0e7ef; border-radius: 10px;}
    .subtitle { color:#64748b; font-size:1.1em;}
    h2 { text-align:center; letter-spacing:.06em;}
    .jp { margin-bottom: .6em;}
    .en { color: #444; font-size:.98em;}
    .output-title {font-size: 1.1em; color: #111; margin-bottom: .3em;}
    .loading {color: #888; margin-top:1em; text-align:center;}
  </style>
</head>
<body>
  <div class="container">
    <h2>è‡ªå·±ç´¹ä»‹ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼<br><span style="font-size:0.7em;color:#888;">æ—¥è‹±ãƒ»è‡ªå‹•ç¿»è¨³</span></h2>
    <div class="subtitle">å¥½ããªã‚‚ã®ãƒ»æ€§æ ¼ãªã©ã‚’å…¥åŠ›ã—ã¦ã€ã„ã‚ã‚“ãªã‚¹ã‚¿ã‚¤ãƒ«ã®è‡ªå·±ç´¹ä»‹æ–‡ã‚’è‡ªå‹•ç”Ÿæˆï¼ï¼ˆè‹±èªæ–‡ã¯è‡ªå‹•ç¿»è¨³ï¼‰</div>
    <form id="introForm" onsubmit="return false;">
      <label>åå‰ï¼ˆNameï¼‰</label>
      <input type="text" id="name" value="ã‚†ã¿ãŸã¡ã‚ƒã‚“" required>
      
      <label>å¥½ããªã‚‚ã®1ï¼ˆLike 1ï¼‰</label>
      <input type="text" id="like1" value="ãƒ‘ãƒ³ã‚¯">
      
      <label>å¥½ããªã‚‚ã®2ï¼ˆLike 2ï¼‰</label>
      <input type="text" id="like2" value="æµ·">
      
      <label>å¥½ããªã‚‚ã®3ï¼ˆLike 3ï¼‰</label>
      <input type="text" id="like3" value="æŸ´çŠ¬">
      
      <label>è‹¦æ‰‹ãªã‚‚ã®ï¼ˆDislikeï¼‰</label>
      <input type="text" id="dislike" value="è™«">
      
      <label>æ€§æ ¼ï¼ˆPersonalityï¼‰</label>
      <input type="text" id="personality" value="æ¥½å¤©çš„ã§æ€–ãŒã‚Š">
      
      <label>ã‚®ãƒ£ãƒƒãƒ—ãƒ»æ„å¤–ãªä¸€é¢ï¼ˆGap/Secret sideï¼‰</label>
      <input type="text" id="gap" value="ã‚¤ãƒ³ãƒ†ãƒªãªä¸€é¢ã‚‚ã‚ã‚‹">
      
      <label>å‡ºèº«åœ°ã‚„å¥½ããªå ´æ‰€ï¼ˆLocationï¼‰ <span style="color:#aaa;">ï¼ˆã‚¹ãƒˆãƒªãƒ¼ãƒˆhiphopå¥³å­ç”¨ï¼‰</span></label>
      <input type="text" id="location" value="ãƒ‰ãƒã‚¤">
      
      <button type="button" onclick="generate()">ç”Ÿæˆï¼</button>
    </form>

    <div class="loading" id="loading" style="display:none;">ç¿»è¨³ä¸­â€¦ Please waitâ€¦</div>

    <div class="output" id="output" style="display:none;">
      <div class="output-title">ğŸ¾ ã‚´ãƒ­é¢¨</div>
      <div class="jp" id="goro-jp"></div>
      <div class="en" id="goro-en"></div>
      
      <div class="output-title" style="margin-top:1em;">ğŸ¤ ã‚¹ãƒˆãƒªãƒ¼ãƒˆhiphopå¥³å­é¢¨</div>
      <div class="jp" id="hiphop-jp"></div>
      <div class="en" id="hiphop-en"></div>
      
      <div class="output-title" style="margin-top:1em;">ğŸ’¥ ãƒ‘ãƒ³ã‚¯å¥³å­é¢¨</div>
      <div class="jp" id="punk-jp"></div>
      <div class="en" id="punk-en"></div>
    </div>
  </div>

  <script>
    async function translateText(text, to = "en") {
      if (!text) return ""; // ç©ºæ¬„ã®å ´åˆ
      try {
        const res = await fetch("https://libretranslate.de/translate", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            q: text,
            source: "ja",
            target: to,
            format: "text"
          })
        });
        const data = await res.json();
        return data.translatedText || text;
      } catch (e) {
        return text + " (ç¿»è¨³å¤±æ•—)";
      }
    }

    async function generate() {
      // å…¥åŠ›å–å¾—
      const name = document.getElementById('name').value;
      const like1 = document.getElementById('like1').value;
      const like2 = document.getElementById('like2').value;
      const like3 = document.getElementById('like3').value;
      const dislike = document.getElementById('dislike').value;
      const personality = document.getElementById('personality').value;
      const gap = document.getElementById('gap').value;
      const location = document.getElementById('location').value;

      // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
      document.getElementById('loading').style.display = "block";
      document.getElementById('output').style.display = "none";

      // æ—¥æœ¬èªãƒ¯ãƒ¼ãƒ‰ã‚’è‹±èªã«å¤‰æ›ï¼ˆä¸¦åˆ—å‡¦ç†ï¼‰
      const [
        name_en, like1_en, like2_en, like3_en,
        dislike_en, personality_en, gap_en, location_en
      ] = await Promise.all([
        translateText(name),
        translateText(like1),
        translateText(like2),
        translateText(like3),
        translateText(dislike),
        translateText(personality),
        translateText(gap),
        translateText(location)
      ]);

      // ã‚´ãƒ­é¢¨
      document.getElementById('goro-jp').textContent =
        `ã‚ãŸã—ã®åå‰ã¯${name}ã ã‚ˆã€‚å¥½ããªã®ã¯${like1}ã€${like2}ã€ãã‚Œã¨${like3}ï¼ã¡ã‚‡ã£ã¨è‹¦æ‰‹ãªã®ã¯${dislike}ãªã‚“ã â€¦ã€‚æ€§æ ¼ã¯${personality}ã§ã€å®Ÿã¯${gap}ãªã¨ã“ã‚‚ã‚ã‚‹ã‚“ã ã‚ã‚“ã€‚ã¿ã‚“ãªä»²è‰¯ãã—ã¦ã­ï¼`;
      document.getElementById('goro-en').textContent =
        `My name is ${name_en}. I love ${like1_en}, ${like2_en}, and also ${like3_en}! I'm not a big fan of ${dislike_en}â€¦ My personality is ${personality_en}, but actually, I have a bit of ${gap_en} too. Letâ€™s get along!`;

      // ã‚¹ãƒˆãƒªãƒ¼ãƒˆhiphopå¥³å­é¢¨
      document.getElementById('hiphop-jp').textContent =
        `Yo yoï¼ã‚ãŸã—ã¯${name}ã€${location}å‡ºèº«ã€‚ã‚„ã£ã±${like1}ã¨${like2}ãŒãƒã‚¤ãƒ–ã‚¹ï¼${like3}ã‚‚æ¬ ã‹ã›ãªã„ã€‚ã ã‘ã©${dislike}ã¯ãƒ ãƒªï¼æ€§æ ¼ã¯${personality}ã€ãƒªã‚¢ãƒ«ã«ç”Ÿãã¦ã‚‹ã€‚ã¿ã‚“ãªã€ã¶ã¡ä¸Šã’ã¦ã„ã“ã†ï¼`;
      document.getElementById('hiphop-en').textContent =
        `Yo yo! Iâ€™m ${name_en}, reppinâ€™ ${location_en}. I vibe with ${like1_en} and ${like2_en}, canâ€™t live without ${like3_en}. But when it comes to ${dislike_en}? Nah, not for me! My style is ${personality_en}â€”keepinâ€™ it real, always. Letâ€™s turn it up!`;

      // ãƒ‘ãƒ³ã‚¯å¥³å­é¢¨
      document.getElementById('punk-jp').textContent =
        `Yoã€${name}ã ã‚ˆã€‚å…¨åŠ›ã§${like1}ã¨${like2}æ„›ã—ã¦ã‚‹ã—ã€${like3}ã‚‚å¤§å¥½ãã€‚ã ã‘ã©${dislike}ã ã‘ã¯å‹˜å¼ï¼æ€§æ ¼ã¯${personality}ã€ã¡ã‚‡ã„åéª¨ã§ã€ã¨ãã©ã${gap}ãªä¸€é¢ã‚‚ã‚ã‚‹ã‚ˆã€‚ä¸€ç·’ã«ã¶ã£é£›ã°ãã†ï¼`;
      document.getElementById('punk-en').textContent =
        `Yo, Iâ€™m ${name_en}. I go all out for ${like1_en} and ${like2_en}, plus Iâ€™m crazy about ${like3_en}. But ${dislike_en}? No way! My attitude is totally ${personality_en}, a bit rebellious, and sometimes I show my ${gap_en} side too. Letâ€™s go wild together!`;

      // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°éè¡¨ç¤ºï¼†å‡ºåŠ›è¡¨ç¤º
      document.getElementById('loading').style.display = "none";
      document.getElementById('output').style.display = "block";
    }
  </script>
</body>
</html>
